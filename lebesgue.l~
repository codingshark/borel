%{
#include <string>
#include <iostream>
#include <list>
#include "lebesgue.tab.h"

using std::string;
using std::list;
using std::cout;
using std::endl;

extern "C" int yywrap();

list<string> str_stack;

%}

%x COMMENT

%x USR_CODE

%%

<<EOF>>    {return 0;}
(" "|\t)+    //keep silent

":"	|
"|"	|
";"	|
"<"	|
">"			{return yytext[0];}

"%token"		{return TOKEN;}
"%type"			{return TYPE;}

"//"			{BEGIN COMMENT;}
<COMMENT>\n		{BEGIN INITIAL;}
<COMMENT>.*		/*keep silent*/

 /*"%{"			{BEGIN USR_CODE;}
<USR_CODE>"}%"		{BEGIN INITIAL;}
<USR_CODE>.		{str_stack.push_back(yytext); cout<<"CD:\t"<<lex_str<<endl;}*/

[A-Za-z0-9_]*		{str_stack.push_back(yytext); cout<<"ID:\t"<<str_stack.back()<<endl; return IDENTIFIER;}



"\n"
.			{cout<<"unmatched string:\t"<<yytext<<endl;}
%%

int yywrap()
{
    return 1;
}
